{"version":3,"sources":["Add.js","Dashboard.js","apiClient.js","Login.js","App.js","reportWebVitals.js","index.js"],"names":["Add","props","useState","disabled","cDisabled","currentEvent","onSubmit","e","preventDefault","client","updateEvent","_id","target","eventName","value","location","precis","date","time","addEvent","then","document","getElementById","reset","refreshList","catch","alert","submitHandler","id","type","defaultValue","name","Button","variant","Dashboard","events","cEvents","undefined","current","cCurrent","getEvents","response","data","useEffect","map","onClick","removeEvent","url","ApiClient","tokenProvider","logoutHandler","this","method","axios","headers","authorization","error","status","Promise","reject","username","password","a","console","log","authenticatedCall","Login","login","loggedIn","token","App","window","localStorage","getItem","changeToken","logout","removeItem","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"sOAuGeA,MAnGf,SAAaC,GAAQ,IAAD,UAClB,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAiBC,EAAjB,KAmCA,OACE,qCACE,6BAAKH,EAAMI,aAAe,eAAiB,cAC3C,uBAEA,uBAAMC,SAAU,SAACC,GAAD,OAtCE,SAACA,GACrBA,EAAEC,iBACFJ,GAAU,IAENH,EAAMI,aACCJ,EAAMQ,OAAOC,YACpBT,EAAMI,aAAaM,IACnBJ,EAAEK,OAAOC,UAAUC,MACnBP,EAAEK,OAAOG,SAASD,MAClBP,EAAEK,OAAOI,OAAOF,MAChBP,EAAEK,OAAOK,KAAKH,MACdP,EAAEK,OAAOM,KAAKJ,OAGPb,EAAMQ,OAAOU,SAClBZ,EAAEK,OAAOC,UAAUC,MACnBP,EAAEK,OAAOG,SAASD,MAClBP,EAAEK,OAAOI,OAAOF,MAChBP,EAAEK,OAAOK,KAAKH,MACdP,EAAEK,OAAOM,KAAKJ,QAGjBM,MAAK,WACJhB,GAAU,GACViB,SAASC,eAAe,WAAWC,QACnCtB,EAAMuB,iBAEPC,OAAM,WACLC,MAAM,sCACNtB,GAAU,MASWuB,CAAcpB,IAAIqB,GAAG,UAA5C,mBACQ,uBACN,uBACEC,KAAK,OACLC,aAAY,UAAE7B,EAAMI,oBAAR,aAAE,EAAoB0B,KAClCA,KAAK,YACL5B,SAAUA,IAEZ,uBARF,YAUE,uBACA,uBACE0B,KAAK,OACLC,aAAY,UAAE7B,EAAMI,oBAAR,aAAE,EAAoBU,SAClCgB,KAAK,WACL5B,SAAUA,IAEZ,uBAjBF,UAmBE,uBACA,uBACE0B,KAAK,OACLC,aAAY,UAAE7B,EAAMI,oBAAR,aAAE,EAAoBW,OAClCe,KAAK,SACL5B,SAAUA,IAEZ,uBA1BF,QA4BE,uBACA,uBACE0B,KAAK,OACLC,aAAY,UAAE7B,EAAMI,oBAAR,aAAE,EAAoBY,KAClCc,KAAK,OACL5B,SAAUA,IAEZ,uBAnCF,QAqCE,uBACA,uBACE0B,KAAK,OACLC,aAAY,UAAE7B,EAAMI,oBAAR,aAAE,EAAoBa,KAClCa,KAAK,OACL5B,SAAUA,IAEZ,uBACA,uBACA,eAAC6B,EAAA,EAAD,CACEC,QAAQ,OACRJ,KAAK,SACL1B,SAAUA,EAHZ,UAIG,IAJH,SAKS,c,KCdF+B,MA5Ef,SAAmBjC,GACjB,MAA0BC,mBAAS,IAAnC,mBAAOiC,EAAP,KAAeC,EAAf,KACA,EAA4BlC,wBAASmC,GAArC,mBAAOC,EAAP,KAAgBC,EAAhB,KAEMf,EAAc,WAClBvB,EAAMQ,OAAO+B,YAAYpB,MAAK,SAACqB,GAAD,OAAcL,EAAQK,EAASC,UAyC/D,OA9BAC,qBAAU,WACRnB,MACC,IA6BD,qCACE,iDACA,uBACA,kCACE,gCACE,+BACE,4CACA,0CACA,wCACA,sCACA,2CAGJ,gCAvCGW,EAAOS,KAAI,SAACN,GACjB,OACE,+BACE,6BAAKA,EAAQP,OACb,6BAAKO,EAAQvB,WACb,6BAAKuB,EAAQtB,SACb,6BAAKsB,EAAQrB,OACb,6BAAKqB,EAAQpB,OACb,+BACE,eAACc,EAAA,EAAD,CACEC,QAAQ,OACRY,QAAS,kBAxBAjB,EAwBkBU,EAAQ3B,SAvB7CV,EAAMQ,OAAOqC,YAAYlB,GAAIR,MAAK,kBAAMI,OADtB,IAACI,GAsBX,UAGK,IAHL,YAKU,IACV,cAACI,EAAA,EAAD,CACEC,QAAQ,OACRY,QAAS,WAzBnBN,EAyBqCD,IAF7B,yBAbKA,EAAQ3B,aAuCnB,uBACA,uBACA,cAAC,EAAD,CACEF,OAAQR,EAAMQ,OACde,YAAa,WACXA,IACAe,OAASF,IAEXhC,aAAciC,Q,wDC3EhBS,EAAM,yBAECC,EAAb,WACE,WAAYC,EAAeC,GAAgB,oBACzCC,KAAKF,cAAgBA,EACrBE,KAAKD,cAAgBA,EAHzB,qDAKE,SAAkBE,EAAQL,EAAKL,GAAO,IAAD,OACnC,OAAOW,IAAM,CACXD,SACAL,MACAO,QAAS,CACPC,cAAeJ,KAAKF,iBAEtBP,SACCjB,OAAM,SAAC+B,GACR,GAA8B,MAA1BA,EAAMf,SAASgB,OAEjB,OADA,EAAKP,gBACEQ,QAAQC,SAEf,MAAMH,OAlBd,0DAuBE,WAAYI,EAAUC,GAAtB,SAAAC,EAAA,6DACEC,QAAQC,IAAIJ,EAAUC,GADxB,SAEeR,IAAM,CACjBD,OAAQ,OACRL,IAAI,GAAD,OAAKA,EAAL,QACHL,KAAM,CACJkB,WACAC,cAPN,mFAvBF,gFAmCE,WACE,OAAOV,KAAKc,kBAAkB,MAAOlB,KApCzC,sBAuCE,SAAShB,EAAMhB,EAAUC,EAAQC,EAAMC,GACrC,OAAOiC,KAAKc,kBAAkB,OAAQlB,EAAK,CAAEhB,OAAMhB,WAAUC,SAAQC,OAAMC,WAxC/E,yBA2CE,SAAYU,GACV,OAAOuB,KAAKc,kBAAkB,SAAvB,UAAoClB,GAApC,OAA0CnB,MA5CrD,yBA+CE,SAAYA,EAAIG,EAAMhB,EAAUC,EAAQC,EAAMC,GAC5C,OAAOiC,KAAKc,kBAAkB,MAAvB,UAAiClB,GAAjC,OAAuCnB,GAAM,CAAEG,OAAMhB,WAAUC,SAAQC,OAAMC,aAhDxF,KC2CegD,MA1Cf,SAAejE,GACb,MAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAiBC,EAAjB,KAkBA,OACE,qCACE,uCACA,uBACA,uBAAME,SAAU,SAACC,GAAD,OApBE,SAACA,GACrBA,EAAEC,iBACFJ,GAAU,GACVH,EAAMQ,OACH0D,MAAM5D,EAAEK,OAAOgD,SAAS9C,MAAOP,EAAEK,OAAOiD,SAAS/C,OACjDM,MAAK,SAACqB,GACLrC,GAAU,GACV2D,QAAQC,IAAIvB,EAASC,MACrBzC,EAAMmE,SAAS3B,EAASC,KAAK2B,UAE9B5C,OAAM,WACLC,MAAM,sCACNtB,GAAU,MAQWuB,CAAcpB,IAArC,qBAEE,uBACA,uBAAOsB,KAAK,OAAOE,KAAK,WAAW5B,SAAUA,IAC7C,uBAJF,WAME,uBACA,uBAAO0B,KAAK,WAAWE,KAAK,WAAW5B,SAAUA,IACjD,uBACA,uBACA,eAAC6B,EAAA,EAAD,CAAQC,QAAQ,OAAOJ,KAAK,SAAS1B,SAAUA,EAA/C,UACG,IADH,SAES,cCEFmE,MAlCf,WACE,MAA6BpE,mBAASqE,OAAOC,aAAaC,QAAQ,UAAlE,mBAAOJ,EAAP,KAAcK,EAAd,KACMjE,EAAS,IAAIuC,GACjB,kBAAMqB,KACN,kBAAMM,OAQFA,EAAS,WACbJ,OAAOC,aAAaI,WAAW,SAC/BF,OAAYrC,IAGd,OACE,mCACGgC,EACC,qCACE,cAAC,EAAD,CAAW5D,OAAQA,IACnB,uBACA,cAACuB,EAAA,EAAD,CAAQC,QAAQ,OAAOY,QAAS8B,EAAhC,uBAKF,cAAC,EAAD,CAAOP,SAAU,SAACC,GAAD,OArBT,SAACA,GACbE,OAAOC,aAAaK,QAAQ,QAASR,GACrCK,EAAYL,GAmBoBF,CAAME,IAAQ5D,OAAQA,OCvB3CqE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB5D,MAAK,YAAkD,IAA/C6D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFnE,SAASC,eAAe,SAM1BwD,K","file":"static/js/main.bd8b16df.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nfunction Add(props) {\r\n  const [disabled, cDisabled] = useState(false);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    cDisabled(true);\r\n    let result;\r\n    if (props.currentEvent) {\r\n      result = props.client.updateEvent(\r\n        props.currentEvent._id,\r\n        e.target.eventName.value,\r\n        e.target.location.value,\r\n        e.target.precis.value,\r\n        e.target.date.value,\r\n        e.target.time.value\r\n      );\r\n    } else {\r\n      result = props.client.addEvent(\r\n          e.target.eventName.value,\r\n          e.target.location.value,\r\n          e.target.precis.value,\r\n          e.target.date.value,\r\n          e.target.time.value);\r\n    }\r\n    result\r\n      .then(() => {\r\n        cDisabled(false);\r\n        document.getElementById(\"addForm\").reset();\r\n        props.refreshList();\r\n      })\r\n      .catch(() => {\r\n        alert(\"an error occured, please try again\");\r\n        cDisabled(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>{props.currentEvent ? \"Update Event\" : \"Add Event\"}</h2>\r\n      <br />\r\n\r\n      <form onSubmit={(e) => submitHandler(e)} id=\"addForm\">\r\n        Name: <br />\r\n        <input\r\n          type=\"text\"\r\n          defaultValue={props.currentEvent?.name}\r\n          name=\"eventName\"\r\n          disabled={disabled}\r\n        />\r\n        <br />\r\n        Location:\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          defaultValue={props.currentEvent?.location}\r\n          name=\"location\"\r\n          disabled={disabled}\r\n        />\r\n        <br />\r\n        Precis:\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          defaultValue={props.currentEvent?.precis}\r\n          name=\"precis\"\r\n          disabled={disabled}\r\n        />\r\n        <br />\r\n        Date:\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          defaultValue={props.currentEvent?.date}\r\n          name=\"date\"\r\n          disabled={disabled}\r\n        />\r\n        <br />\r\n        Time:\r\n        <br />\r\n        <input\r\n          type=\"text\"\r\n          defaultValue={props.currentEvent?.time}\r\n          name=\"time\"\r\n          disabled={disabled}\r\n        />\r\n        <br />\r\n        <br />\r\n        <Button\r\n          variant=\"dark\"\r\n          type=\"submit\"\r\n          disabled={disabled}>\r\n          {\" \"}\r\n          Submit{\" \"}\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Add;","import React, { useState, useEffect } from \"react\";\r\nimport Add from \"./Add\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./App.css\";\r\n\r\nfunction Dashboard(props) {\r\n  const [events, cEvents] = useState([]);\r\n  const [current, cCurrent] = useState(undefined);\r\n\r\n  const refreshList = () => {\r\n    props.client.getEvents().then((response) => cEvents(response.data));\r\n  };\r\n\r\n  const removeEvent = (id) => {\r\n    props.client.removeEvent(id).then(() => refreshList());\r\n  };\r\n\r\n  const updateEvent = (event) => {\r\n    cCurrent(event);\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshList();\r\n  }, []);\r\n\r\n  const buildrows = () => {\r\n    return events.map((current) => {\r\n      return (\r\n        <tr key={current._id}>\r\n          <td>{current.name}</td>\r\n          <td>{current.location}</td>\r\n          <td>{current.precis}</td>\r\n          <td>{current.date}</td>\r\n          <td>{current.time}</td>\r\n          <td>\r\n            <Button \r\n              variant=\"dark\" \r\n              onClick={() => removeEvent(current._id)}>\r\n                {\" \"}\r\n              Remove\r\n            </Button>{\" \"}\r\n            <Button \r\n              variant=\"dark\"\r\n              onClick={() => updateEvent(current)}> \r\n              Update</Button>\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>Event Dashboard</h2>\r\n      <br />\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Event Name</th>\r\n            <th>Location</th>\r\n            <th>Precis</th>\r\n            <th>Date</th>\r\n            <th>Time</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{buildrows()}</tbody>\r\n      </table>\r\n      <br />\r\n      <br />\r\n      <Add\r\n        client={props.client}\r\n        refreshList={() => {\r\n          refreshList();\r\n          cCurrent(undefined);\r\n        }}\r\n        currentEvent={current}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import axios from \"axios\";\r\nconst url = \"http://localhost:3001/\";\r\n\r\nexport class ApiClient {\r\n  constructor(tokenProvider, logoutHandler) {\r\n    this.tokenProvider = tokenProvider\r\n    this.logoutHandler = logoutHandler\r\n  }\r\n  authenticatedCall(method, url, data) {\r\n    return axios({\r\n      method,\r\n      url,\r\n      headers: {\r\n        authorization: this.tokenProvider()\r\n      },\r\n      data,\r\n    }).catch((error) => {\r\n      if (error.response.status === 403) {\r\n        this.logoutHandler();\r\n        return Promise.reject()\r\n      } else {\r\n        throw error;\r\n      }\r\n    });\r\n  }\r\n\r\n  async login(username, password) {\r\n    console.log(username, password)\r\n    return await axios({\r\n      method: 'post',\r\n      url: `${url}auth`,\r\n      data: {\r\n        username,\r\n        password\r\n      }\r\n    });\r\n  }\r\n\r\n  getEvents() {\r\n    return this.authenticatedCall(\"get\", url);\r\n  }\r\n\r\n  addEvent(name, location, precis, date, time) {\r\n    return this.authenticatedCall(\"post\", url, { name, location, precis, date, time });\r\n  }\r\n\r\n  removeEvent(id) {\r\n    return this.authenticatedCall(\"delete\", `${url}${id}`);\r\n  }\r\n\r\n  updateEvent(id, name, location, precis, date, time) {\r\n    return this.authenticatedCall(\"put\", `${url}${id}`, { name, location, precis, date, time });\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nfunction Login(props) {\r\n  const [disabled, cDisabled] = useState(false);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    cDisabled(true);\r\n    props.client\r\n      .login(e.target.username.value, e.target.password.value)\r\n      .then((response) => {\r\n        cDisabled(false);\r\n        console.log(response.data);\r\n        props.loggedIn(response.data.token);\r\n      })\r\n      .catch(() => {\r\n        alert(\"an error occured, please try again\");\r\n        cDisabled(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>Login</h2>\r\n      <br />\r\n      <form onSubmit={(e) => submitHandler(e)}>\r\n        Username\r\n        <br />\r\n        <input type=\"text\" name=\"username\" disabled={disabled} />\r\n        <br />\r\n        Password\r\n        <br />\r\n        <input type=\"password\" name=\"password\" disabled={disabled} />\r\n        <br />\r\n        <br />\r\n        <Button variant=\"dark\" type=\"submit\" disabled={disabled}>\r\n          {\" \"}\r\n          Submit{\" \"}\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\nimport Dashboard from \"./Dashboard\";\nimport { ApiClient } from \"./apiClient\";\nimport Login from \"./Login\";\nimport Button from \"react-bootstrap/Button\";\nimport \"./App.css\";\n\nfunction App() {\n  const [token, changeToken] = useState(window.localStorage.getItem(\"token\"));\n  const client = new ApiClient(\n    () => token,\n    () => logout()\n  );\n\n  const login = (token) => {\n    window.localStorage.setItem(\"token\", token);\n    changeToken(token);\n  };\n\n  const logout = () => {\n    window.localStorage.removeItem(\"token\");\n    changeToken(undefined);\n  };\n\n  return (\n    <>\n      {token ? (\n        <>\n          <Dashboard client={client} />\n          <br />\n          <Button variant=\"dark\" onClick={logout}>\n            Logout\n          </Button>\n        </>\n      ) : (\n        <Login loggedIn={(token) => login(token)} client={client} />\n      )}\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}